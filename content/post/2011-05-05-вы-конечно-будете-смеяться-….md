---
author: admin
date: 2011-05-04T22:26:07-07:00
aliases:
- /2011/05/04/1047
title: Вы, конечно, будете смеяться, …
slug: 1047
tags:
- C/C++
---

... но я понятия не имел, что вложенные структуры в C/C++ можно инициализировать плоским списком значений. Есть, например, вот такая структура:

```cpp
struct foo {
    int value;
};

struct bar {
    int value;
};

struct foobar {
    foo value1;
    bar value2;
    int value3;
};
```

Её можно инициализировать вот так:

```cpp
foobar data = { { 1 }, { 2 }, 3 };
```

А можно и так:

```cpp
foobar data = { 1, 2, 3 };
```

Компилятор съест оба варианта кода и не поморщится.

PS. Ну а чё, - эксперт в C, больше десятка лет в индустрии, то-сё. :-)
