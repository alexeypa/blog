---
author: admin
comments: true
date: 2011-05-05 05:26:07+00:00
excerpt: None
link: http://blog.not-a-kernel-guy.com/2011/05/04/1047
slug: вы-конечно-будете-смеяться-…
title: Вы, конечно, будете смеяться, …
wordpress_id: 1047
categories:
- itblogs
tags:
- C/C++
---

... но я понятия не имел, что вложенные структуры в C/C++ можно инициализировать плоским списком значений. Есть, например, вот такая структура:



```cpp
struct foo {
    int value;
};

struct bar {
    int value;
};

struct foobar {
    foo value1;
    bar value2;
    int value3;
};
```





Её можно инициализировать вот так:


```cpp
foobar data = { { 1 }, { 2 }, 3 };
```


А можно и так:



```cpp
foobar data = { 1, 2, 3 };
```





Компилятор съест оба варианта кода и не поморщится.





PS. Ну а чё, - эксперт в C, больше десятка лет в индустрии, то-сё. :-)
